{"ast":null,"code":"var _jsxFileName = \"/home/advitya/Documents/Ireact/src/index.js\";\nfunction createElement(type, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n  return {\n    type,\n    props: {\n      ...props,\n      children: children.map(child => typeof child === \"object\" ? child : createTextElement(child))\n    }\n  };\n}\nfunction createTextElement(text) {\n  return {\n    type: \"TEXT_ELEMENT\",\n    props: {\n      nodeValue: text,\n      children: []\n    }\n  };\n}\nfunction render(element, container) {\n  wipRoot = {\n    dom: container,\n    props: {\n      children: [element]\n    }\n  };\n  nextUnitOfWork = wipRoot;\n}\nlet nextUnitOfWork = null;\nlet wipRoot = null;\nfunction createDom(fiber) {\n  const dom = element.type == \"TEXT_ELEMENT\" ? document.createTextNode(\"\") : document.createElement(element.type);\n  const isProperty = key => key !== \"children\";\n  Object.keys(element.props).filter(isProperty).forEach(name => {\n    dom[name] = element.props[name];\n  });\n  element.props.children.forEach(child => render(child, dom));\n  container.appendChild(dom);\n}\nfunction workLoop(deadline) {\n  let shouldYield = false;\n  while (nextUnitOfWork && !shouldYield) {\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    shouldYield = deadline.timeRemaining() < 1;\n  }\n  requestIdleCallback(workLoop);\n}\nrequestIdleCallback(workLoop);\nfunction performUnitOfWork(nextUnitOfWork) {\n  if (!fiber.dom) {\n    fiber.dom = createDom(fiber);\n  }\n  if (fiber.parent) {\n    fiber.parent.dom.appendChild(fiber.dom);\n  }\n  const elements = fiber.props.children;\n  let index = 0;\n  let prevSibling = null;\n  while (index < elements.length) {\n    const element = element[index];\n    const newFiber = {\n      type: element.type,\n      props: element.props,\n      parent: fiber,\n      dom: null\n    };\n    if (index === 0) {\n      fiber.child = newFiber;\n    } else {\n      prevSibling.sibling = newFiber;\n    }\n    prevSibling = newFiber;\n    index++;\n  }\n  if (fiber.child) {\n    return fiber.child;\n  }\n  let nextFiber = fiber;\n  while (nextFiber) {\n    if (nextFiber.sibling) {\n      return nextFiber.sibling;\n    }\n    nextFiber = nextFiber.parent;\n  }\n}\nconst Didact = {\n  createElement,\n  render\n};\n\n/** @jsx Didact.createElement */\nconst element = Didact.createElement(\"div\", {\n  style: \"background: salmon\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 3\n  }\n}, Didact.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }\n}, \"Hello World\"), Didact.createElement(\"h2\", {\n  style: \"text-align:right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }\n}, \"from Didact\"));\nconst container = document.getElementById(\"root\");\nDidact.render(element, container);","map":{"version":3,"names":["createElement","type","props","_len","arguments","length","children","Array","_key","map","child","createTextElement","text","nodeValue","render","element","container","wipRoot","dom","nextUnitOfWork","createDom","fiber","document","createTextNode","isProperty","key","Object","keys","filter","forEach","name","appendChild","workLoop","deadline","shouldYield","performUnitOfWork","timeRemaining","requestIdleCallback","parent","elements","index","prevSibling","newFiber","sibling","nextFiber","Didact","style","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","getElementById"],"sources":["/home/advitya/Documents/Ireact/src/index.js"],"sourcesContent":["function createElement(type, props, ...children) {\n  return {\n    type,\n    props: {\n      ...props,\n      children: children.map((child) =>\n        typeof child === \"object\" ? child : createTextElement(child),\n      ),\n    },\n  };\n}\n\nfunction createTextElement(text) {\n  return {\n    type: \"TEXT_ELEMENT\",\n    props: {\n      nodeValue: text,\n      children: [],\n    },\n  };\n}\n\nfunction render(element, container) {\n  wipRoot = {\n    dom: container,\n    props: {\n      children: [element],\n    },\n  };\n  nextUnitOfWork = wipRoot;\n}\n\nlet nextUnitOfWork = null;\nlet wipRoot = null;\n\nfunction createDom(fiber) {\n  const dom =\n    element.type == \"TEXT_ELEMENT\"\n      ? document.createTextNode(\"\")\n      : document.createElement(element.type);\n  const isProperty = (key) => key !== \"children\";\n  Object.keys(element.props)\n    .filter(isProperty)\n    .forEach((name) => {\n      dom[name] = element.props[name];\n    });\n  element.props.children.forEach((child) => render(child, dom));\n  container.appendChild(dom);\n}\n\nfunction workLoop(deadline) {\n  let shouldYield = false;\n  while (nextUnitOfWork && !shouldYield) {\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n    shouldYield = deadline.timeRemaining() < 1;\n  }\n  requestIdleCallback(workLoop);\n}\n\nrequestIdleCallback(workLoop);\n\nfunction performUnitOfWork(nextUnitOfWork) {\n  if (!fiber.dom) {\n    fiber.dom = createDom(fiber);\n  }\n\n  if (fiber.parent) {\n    fiber.parent.dom.appendChild(fiber.dom);\n  }\n\n  const elements = fiber.props.children;\n  let index = 0;\n  let prevSibling = null;\n\n  while (index < elements.length) {\n    const element = element[index];\n    const newFiber = {\n      type: element.type,\n      props: element.props,\n      parent: fiber,\n      dom: null,\n    };\n\n    if (index === 0) {\n      fiber.child = newFiber;\n    } else {\n      prevSibling.sibling = newFiber;\n    }\n\n    prevSibling = newFiber;\n    index++;\n  }\n  if (fiber.child) {\n    return fiber.child;\n  }\n  let nextFiber = fiber;\n  while (nextFiber) {\n    if (nextFiber.sibling) {\n      return nextFiber.sibling;\n    }\n    nextFiber = nextFiber.parent;\n  }\n}\n\nconst Didact = {\n  createElement,\n  render,\n};\n\n/** @jsx Didact.createElement */\nconst element = (\n  <div style=\"background: salmon\">\n    <h1>Hello World</h1>\n    <h2 style=\"text-align:right\">from Didact</h2>\n  </div>\n);\nconst container = document.getElementById(\"root\");\nDidact.render(element, container);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}